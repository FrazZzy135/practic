using System;
using System.Collections.Generic;

namespace RegistrationApp
{
    public class LoginAlreadyExistsException : Exception
    {
        public LoginAlreadyExistsException(string message) : base(message) { }
    }

    public class WeakPasswordException : Exception
    {
        public WeakPasswordException(string message) : base(message) { }
    }

    public class UserService
    {
        private List<string> _existingUsers = new List<string> { "user1" };

        public void Register(string login, string password)
        {
            Console.WriteLine($"Регистрация: {login}, {password}");

            if (password.Length < 6)
            {
                throw new WeakPasswordException("Слабый пароль! Минимум 6 символов");
            }

            if (_existingUsers.Contains(login))
            {
                throw new LoginAlreadyExistsException($"Логин {login} уже занят!");
            }

            _existingUsers.Add(login);
            Console.WriteLine("Регистрация завершена успешно.");
        }
    }

    class Program
    {
        static void Mainstring()
        {
            UserService userService = new UserService();

            try
            {
                userService.Register("admin", "123");
            }
            catch (WeakPasswordException ex)
            {
                Console.WriteLine($"Ошибка: {ex.Message}");
            }
            catch (LoginAlreadyExistsException ex)
            {
                Console.WriteLine($"Ошибка: {ex.Message}");
            }

            try
            {
                userService.Register("user1", "secret123");
            }
            catch (WeakPasswordException ex)
            {
                Console.WriteLine($"Ошибка: {ex.Message}");
            }
            catch (LoginAlreadyExistsException ex)
            {
                Console.WriteLine($"Ошибка: {ex.Message}");
            }

            Console.ReadKey();
        }
    }
}
